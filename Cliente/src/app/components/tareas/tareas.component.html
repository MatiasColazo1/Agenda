<div *ngFor="let tarea of tareas; let i = index" class="d-flex align-items-center">
  <mat-checkbox [color]="colores[i % colores.length]" class="mb-3" [class.dark-mode-text]="darkModeService.isDarkMode"
    [(ngModel)]="tarea.completada">
    <div class="group" (click)="editarTarea(tarea)">
      <mat-card-content class="d-flex align-items-center">
        <span class="bar"  [class]="tarea.color + '-border'" *ngIf="!tareaEditando || (tareaEditando && tareaEditando._id !== tarea._id)"
          [class.dark-mode-text]="darkModeService.isDarkMode">{{tarea.titulo}} </span>

        <form [formGroup]="formGroup">
          <input *ngIf="tareaEditando && tareaEditando._id === tarea._id" matInput formControlName="titulo">
        </form>
        <form class="d-flex aling-items-center" [formGroup]="formGroup"
          *ngIf="tareaEditando && tareaEditando._id === tarea._id">
          <i class='bx bx-check-circle actualizar' (click)="actualizarTarea()"></i>
          <i class='bx bx-x-circle cancelar' (click)="cancelarEdicion()"></i>
        </form>
      </mat-card-content>
      <mat-card-actions class="d-flex justify-content-end">
        <i class='bx bx-trash' [class.dark-mode-text]="darkModeService.isDarkMode" style="cursor: pointer;"
          (click)="deleteTarea(tarea)" *ngIf="tareaEditando && tareaEditando._id === tarea._id"></i>
      </mat-card-actions>

    </div>
  </mat-checkbox>

</div>

<div class="d-flex justify-content-end">
  <i class='icono bx bx-add-to-queue' [class.dark-mode-text]="darkModeService.isDarkMode" style="cursor: pointer;"
    (click)="postTareas()"></i>
</div>